有名管道和无名管道

无名管道特点:

只能用于具有亲缘关系的进程之间的通信

单工的通信模式,具有固定的读端和写端

无名管道创建时会返回两个文件描述符,分别用于读写管道



无名管道创建-pipe

int pipe(int pfd[2]);

成功返回0,失败返回EOF

pfd 包含两个元素的整型数组,用来保存文件描述符

pfd[0]用于读管道,pfd[1]用于写管道





```c
include <stdio.h>
#include <string.h>
#include<unistd.h>

  int main(){
        int pip[2];
        int ret;
        char buff[20];
        char rebuf[20];
        pid_t pid;
        ret=pipe(pip);
        if(ret<0){
                perror("pipe");
                return 0;
        }
        pid=fork();
        if(pid<0){
                perror("fork");
        }
        else if(pid==0){
                while(1){
                        strcpy(buff,"ahhahahhahhahah");
                                write(pip[1],buff,strlen(buff));
                        sleep(1);
                }
        }else{
                while(1){
                ret=read(pip[0],rebuf,10);                  if(ret>0){
                printf("read pipe:%s\n",rebuf);
                        }
                }
        }
}
```

